<?php
session_start();
// Product list
$items = [
   1 => ["Laptop", 50000],
   2 => ["Mobile", 20000],
   3 => ["Headphones", 2000]
];
// Add / Remove / Clear Cart
if (isset($_GET['add'])) {
   $_SESSION['cart'][$_GET['add']] = ($_SESSION['cart'][$_GET['add']] ?? 0) + 1;
   setcookie("last_item", $items[$_GET['add']][0], time()+3600, "/"); // store last added
}
if (isset($_GET['remove'])) unset($_SESSION['cart'][$_GET['remove']]);
if (isset($_GET['clear'])) unset($_SESSION['cart']);
?>
<!DOCTYPE html>
<html>
<head><title>Shopping Cart</title></head>
<body>
<h2>ğŸ›’ Simple Shopping Cart</h2>
<!-- Product List -->
<ul>
<?php foreach ($items as $id => $p): ?>
 <li><?="$p[0] - Rs.$p[1]"?> <a href="?add=<?=$id?>">Add</a></li>
<?php endforeach; ?>
</ul>
<!-- Cart Display -->
<h3>Your Cart</h3>
<?php if (!empty($_SESSION['cart'])): ?>
<table border="1" cellpadding="5">
<tr><th>Item</th><th>Qty</th><th>Price</th><th>Remove</th></tr>
<?php $total=0; foreach ($_SESSION['cart'] as $id=>$q):
 $price=$q*$items[$id][1]; $total+=$price; ?>
<tr>
 <td><?=$items[$id][0]?></td><td><?=$q?></td><td><?=$price?></td>
 <td><a href="?remove=<?=$id?>">âŒ</a></td>
</tr>
<?php endforeach; ?>
<tr><td colspan="2">Total</td><td colspan="2">Rs. <?=$total?></td></tr>
</table>
<a href="?clear=1">Clear Cart</a>
<?php else: ?><p>Cart is empty.</p><?php endif; ?>
<!-- Show last added item -->
<?php if (isset($_COOKIE['last_item'])): ?>
 <p>âœ¨ Last added: <b><?=$_COOKIE['last_item']?></b></p>
<?php endif; ?>
</body>
</html>
